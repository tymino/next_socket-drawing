import st from './Palette.module.sass';
import React, { FC, memo, useState } from 'react';

interface IPalette {
  switchBrush: (stateEraser: boolean) => void;
}

const Palette: FC<IPalette> = ({ switchBrush }) => {
  const [isEraser, setIsEraser] = useState<boolean>(false);

  const handleClickIcon = (e: React.MouseEvent<HTMLButtonElement>) => {
    const state: boolean = Boolean(e.currentTarget.value);

    setIsEraser(state);
    switchBrush(state);
  };

  return (
    <div className={st.container}>
      <button
        className={`${st.button} ${st.brush} ${!isEraser && st.activeBrush}`}
        value=""
        onClick={(e) => handleClickIcon(e)}>
        <svg
          className={st.svg}
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 410.179 410.179"
          xmlSpace="preserve">
          <path
            d="M410.052,46.398c-0.812-10.885-5.509-21.129-13.226-28.845c-16.089-16.089-41.044-17.965-59.34-4.459l-7.427,5.487
	C257.281,72.291,191.872,135.46,135.647,206.336c-14.115,17.795-27.792,36.287-40.715,55.015c-0.928-0.042-1.859-0.068-2.795-0.068
	c-16.279,0-31.583,6.339-43.094,17.851C28.607,299.57,27.77,319.906,26.96,339.572c-0.745,18.1-1.449,35.196-16.99,54.271L0,406.081
	h15.785c37.145,0,96.119-17.431,119.447-40.759c11.511-11.511,17.85-26.815,17.85-43.094c0-0.941-0.026-1.877-0.068-2.81
	c18.766-12.941,37.258-26.614,55.01-40.704C278.873,222.52,342.046,157.11,395.787,84.302l5.479-7.419
	C407.747,68.111,410.867,57.284,410.052,46.398z M124.625,354.715c-16.334,16.334-58.786,31.89-94.095,35.555
	c10.098-18.012,10.791-34.866,11.417-50.082c0.754-18.326,1.406-34.152,17.702-50.449c8.678-8.678,20.216-13.457,32.488-13.457
	s23.81,4.779,32.488,13.457s13.457,20.215,13.457,32.487C138.082,334.5,133.303,346.037,124.625,354.715z M135.232,279.133
	c-6.875-6.875-15.11-11.889-24.091-14.825c10.801-15.429,22.107-30.656,33.724-45.426c12.79,1.717,24.7,7.567,33.871,16.737
	c9.174,9.174,15.027,21.087,16.745,33.875c-14.743,11.601-29.97,22.905-45.427,33.719
	C147.116,294.236,142.104,286.006,135.232,279.133z M389.2,67.971l-5.481,7.421c-50.415,68.302-109.268,129.976-175.037,183.518
	c-3.279-12.747-9.915-24.473-19.34-33.897c-9.421-9.421-21.145-16.055-33.893-19.333C209.017,139.887,270.692,81.036,338.97,30.649
	l7.427-5.488c12.275-9.062,29.023-7.801,39.823,3c5.177,5.177,8.329,12.05,8.874,19.355C395.641,54.822,393.548,62.086,389.2,67.971
	z"
          />
        </svg>
      </button>
      <button
        className={`${st.button} ${st.eraser} ${isEraser && st.activeBrush}`}
        value="eraser"
        onClick={(e) => handleClickIcon(e)}>
        <svg
          className={st.svg}
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 512 512"
          xmlSpace="preserve">
          <path
            d="M509.607,173.926L338.073,2.393C336.542,0.861,334.463,0,332.297,0s-4.245,0.861-5.777,2.393L87.126,241.787
			c-3.191,3.191-3.191,8.364,0,11.554l1.926,1.926L2.393,341.926c-3.191,3.191-3.191,8.364,0,11.554l156.127,156.127
			c1.595,1.595,3.686,2.393,5.777,2.393c2.09,0,4.182-0.797,5.777-2.393l86.659-86.659l1.926,1.926
			c1.595,1.595,3.686,2.393,5.777,2.393c2.09,0,4.182-0.797,5.777-2.393L509.607,185.48c1.533-1.532,2.393-3.61,2.393-5.777
			S511.139,175.458,509.607,173.926z M332.297,19.725l34.664,34.663l-227.84,227.84l-32.732-32.732
			c-0.011-0.011-1.931-1.931-1.931-1.931L332.297,19.725z M164.297,492.276L19.725,347.702l80.881-80.881l144.572,144.572
			L164.297,492.276z M264.436,407.543l-1.921-1.921c-0.011-0.011-32.743-32.743-32.743-32.743l40.44-40.44
			c3.191-3.191,3.191-8.364,0-11.554c-3.191-3.191-8.364-3.191-11.554,0l-40.44,40.44l-67.544-67.544l227.84-227.84l67.544,67.544
			l-164.292,164.29c-3.191,3.191-3.191,8.364,0,11.554c1.595,1.596,3.686,2.393,5.777,2.393c2.091,0,4.182-0.797,5.777-2.393
			l164.291-164.29l34.664,34.663L264.436,407.543z"
          />
        </svg>
      </button>
    </div>
  );
};

export default memo(Palette);
